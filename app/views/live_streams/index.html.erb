<div class="w-full flex flex-col items-center grow">
  <div data-controller="live-streams"
    data-live-streams-day1-red-ja-value="<%=  @live_streams[:day1][:red_ja] %>"
    data-live-streams-day1-blue-ja-value="<%= @live_streams[:day1][:blue_ja] %>"
    data-live-streams-day2-red-ja-value="<%=  @live_streams[:day2][:red_ja] %>"
    data-live-streams-day2-red-raw-value="<%= @live_streams[:day2][:red_raw] %>"
    data-live-streams-day2-blue-ja-value="<%= @live_streams[:day2][:blue_ja] %>"
    data-live-streams-test-value="<%= @live_streams[:test] %>"
    data-live-streams-backstage-value="<%= @backstage.to_s %>"
    data-live-streams-selected-tab-value="red"
    data-live-streams-subscreen-on-streams-outlet=".subscreen-on-streams"
  >
    <div>
      <div class="flex space-x-6 justify-center pt-6">
        <button class="p-2 border rounded-full bg-[var(--color-2025-danger)] cursor-pointer font-bold text-xs md:text-base" data-action="live-streams#switchToRedRaw" id="hall-red-raw-button">Hall Red (Venue sound)</button>
        <button class="p-2 border rounded-full bg-[var(--color-2025-danger)] cursor-pointer font-bold text-xs md:text-base" data-action="live-streams#switchToRed" id="hall-red-ja-button">Hall Red (JA)</button>
        <button class="p-2 border rounded-full bg-[var(--color-2025-primary)] cursor-pointer font-bold text-xs md:text-base" data-action="live-streams#switchToBlue" id="hall-blue-button">Hall Blue</button>
      </div>
    </div>
    <div class="w-full lg:max-w-4xl md:max-w-full mt-6 mb-1">
      <video id="video" src="" autoplay muted controls class="aspect-video lg:min-w-[640px] md:max-w-full md:min-w-0 sm:min-w-0 border-2 rounded-sm"></video>
      <div id="cannot-view-stream-in-venue" data-live-streams-target="cannotViewStreamInVenue" class="hidden">
        <p><%= t(".cannot_view_stream_in_venue") %></p>
      </div>
    </div>
    <div class="w-full lg:max-w-4xl md:max-w-full mb-3">
      <div class="flex flex-row space-x-2 justify-end text-2xl items-center">
        <p class="text-sm block"><%= t(".share_with_hashtags") %></p>
        <%= link_to "\u{1D54F}", "", class: "block w-[30px] h-[30px] bg-[var(--color-text-primary)] text-[var(--color-text-secondary)] rounded text-center", data: { "live-streams-target" => "shareToX" }, target: "_blank", rel: "noopener" %>
        <button class="block w-[30px] h-[30px] bg-[var(--color-text-primary)] text-[var(--color-text-secondary)] rounded p-[3px] cursor-pointer" data-action="live-streams#clipboard">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6">
            <path strokeLinecap="round" strokeLinejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" />
          </svg>
        </button>
      </div>
    </div>
  </div>
  <div data-controller="subscreen-on-streams"
    data-subscreen-on-streams-shirataki-url-value="<%= @shirataki_url %>"
    data-subscreen-on-streams-room-value="red"
    data-subscreen-on-streams-font-size-value="text-xs md:text-sm"
    <%# data-subscreen-on-streams-live-streams-outlet=".live-streams" %>
    class="w-full md:w-2/3 grid grid-rows-1 gap-4 p-4 subscreen-on-streams"
  >
    <div data-subscreen-on-streams-target="enTranscribe" class="bg-[var(--color-background)] h-15 p-4 overflow-y-auto border border-gray-600 rounded"></div>
    <div data-subscreen-on-streams-target="jaTranscribe" class="bg-[var(--color-background)] h-15 p-4 overflow-y-auto border border-gray-600 rounded"></div>
    <div class="text-right text-xs text-gray-400">
      <p><%= t(".wait_and_reload_if_stranged") %></p>
    </div>
  </div>
</div>
